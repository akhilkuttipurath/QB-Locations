<!DOCTYPE html>
<html>
 	<head>

 		<title>QB Locations</title>
 		<link rel="stylesheet" href="css/normalize.css">
 		<link rel="stylesheet" href="css/style.css">
 		<link rel="stylesheet" href="css/jquery.dataTables.css">
 	</head>
 	<body>
 		<header>
			<div id="logo">QB Locations</div>
		</header>
		<section>
 			<div id="google-map"></div> 
 			<table id="table"></table>
 		</section>
 		<footer></footer>
 		<script type="text/javascript" src="js/jquery.min.js"></script> 
 		<script src="js/jquery.dataTables.min.js"></script> 	
 		<script src="http://maps.googleapis.com/maps/api/js"></script>
 		<script type="text/javascript" src="js/scripts.js"></script>
 		
 		<script type="text/javascript">
    //     function initializeDatatables(tableName) {
		  // $('#table').dataTable({
			 //    "aLengthMenu": [[3, 5, 7,-1], [3, 5, 7, "All"]],
			 //    "iDisplayLength": 5
			 //  });
		  // }
		  $.ajax({
		    type: 'GET',
		    dataType: "json",
		    url: 'http://10.1.4.79/QB-Locations/json/Qb_details.json',
		    data: '',
		    success: function(response) {
		      $("#table").html('').append("<thead></thead><tbody></tbody>");
		      var header= response.tableHeader;
		      console.log(header[0].header1);
		        
		      var head = "<tr><th>" + header[0].header1 + "</th><th>" + header[1].header2 + "</th><th>" + header[2].header3 + "</th></tr>";
		      $("#table > thead").append(head);
		          
		      $.each(response.Details, function(key, value) {
		             var tblRow = "<tr><td>" + value.Location + "</td><td>" + value.Address+ "</td><td>" + value.Headcount + "</td></tr>";
		            $("#table > tbody").append(tblRow);
		          });

		        },
		    complete: function(response) {
		      // initializeDatatables('table');
		      $('#table').dataTable({
		        "aLengthMenu": [[3, 5, 7,-1], [3, 5, 7, "All"]],
		        "iDisplayLength": -1
		      });
		    }
		  });
    	</script>
 	</body>
 	
</html>

